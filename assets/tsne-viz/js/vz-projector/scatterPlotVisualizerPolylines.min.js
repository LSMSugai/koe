//~~WEBPATH~~/vz-projector/scatterPlotVisualizerPolylines.js
var Hd=function(){function a(){this.polylinePositionBuffer={};this.polylineColorBuffer={}}a.prototype.updateSequenceIndicesInDataSet=function(a){for(var b=0;b<a.sequences.length;b++)for(var d=a.sequences[b],e=0;e<d.pointIndices.length-1;e++)a.points[d.pointIndices[e]].sequenceIndex=b,a.points[d.pointIndices[e+1]].sequenceIndex=b};a.prototype.createPolylines=function(a){if(this.dataSet&&this.dataSet.sequences){this.updateSequenceIndicesInDataSet(this.dataSet);this.polylines=[];for(var b=0;b<this.dataSet.sequences.length;b++){var d=
new V.BufferGeometry;d.addAttribute("position",this.polylinePositionBuffer[b]);d.addAttribute("color",this.polylineColorBuffer[b]);var e=new V.LineBasicMaterial({linewidth:1,opacity:1,transparent:!0,vertexColors:V.VertexColors}),d=new V.LineSegments(d,e);d.frustumCulled=!1;this.polylines.push(d);a.add(d)}}};a.prototype.dispose=function(){if(null!=this.polylines){for(var a=0;a<this.polylines.length;a++)this.scene.remove(this.polylines[a]),this.polylines[a].geometry.dispose();this.polylines=null;this.polylinePositionBuffer=
{};this.polylineColorBuffer={}}};a.prototype.setScene=function(a){this.scene=a};a.prototype.setDataSet=function(a){this.dataSet=a};a.prototype.onPointPositionsChanged=function(a){null!=a&&null==this.polylines||this.dispose();if(null!=a&&null!=this.dataSet){for(var b=0;b<this.dataSet.sequences.length;b++){var d=this.dataSet.sequences[b];d=2*(d.pointIndices.length-1);this.polylinePositionBuffer[b]=new V.BufferAttribute(new Float32Array(3*d),3);this.polylineColorBuffer[b]=new V.BufferAttribute(new Float32Array(3*
d),3)}for(b=0;b<this.dataSet.sequences.length;b++){d=this.dataSet.sequences[b];for(var e=0,g=0;g<d.pointIndices.length-1;g++){var h=Ac(a,d.pointIndices[g]),k=Ac(a,d.pointIndices[g+1]);this.polylinePositionBuffer[b].setXYZ(e,h.x,h.y,h.z);this.polylinePositionBuffer[b].setXYZ(e+1,k.x,k.y,k.z);e+=2}this.polylinePositionBuffer[b].needsUpdate=!0}null==this.polylines&&this.createPolylines(this.scene)}};a.prototype.onRender=function(a){if(null!=this.polylines)for(var b=0;b<this.polylines.length;b++)this.polylines[b].material.opacity=
a.polylineOpacities[b],this.polylines[b].material.linewidth=a.polylineWidths[b],this.polylineColorBuffer[b].array=a.polylineColors[b],this.polylineColorBuffer[b].needsUpdate=!0};a.prototype.onPickingRender=function(){};a.prototype.onResize=function(){};return a}();