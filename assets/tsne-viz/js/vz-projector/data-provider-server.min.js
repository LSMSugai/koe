//~~WEBPATH~~/vz-projector/data-provider-server.js
var vd=function(){function a(a){this.runProjectorConfigCache={};this.routePrefix=a}a.prototype.getEmbeddingInfo=function(a,c,d){this.retrieveProjectorConfig(a,function(a){a=a.embeddings;for(var b=0;b<a.length;b++){var e=a[b];if(e.tensorName===c){d(e);return}}d(null)})};a.prototype.retrieveRuns=function(a){var b=Y("Fetching runs..."),d=new XMLHttpRequest;d.open("GET",this.routePrefix+"/runs");d.onerror=function(){lc(d.responseText,"fetching runs")};d.onload=function(){var c=JSON.parse(d.responseText);
Y(null,b);a(c)};d.send()};a.prototype.retrieveProjectorConfig=function(a,c){var b=this;if(a in this.runProjectorConfigCache)c(this.runProjectorConfigCache[a]);else{var e=Y("Fetching projector config..."),g=new XMLHttpRequest;g.open("GET",this.routePrefix+"/info?run\x3d"+a);g.onerror=function(){lc(g.responseText,"fetching projector config")};g.onload=function(){var d=JSON.parse(g.responseText);Y(null,e);b.runProjectorConfigCache[a]=d;c(d)};g.send()}};a.prototype.retrieveTensor=function(a,c,d){var b=
this;this.getEmbeddingInfo(a,c,function(e){ed(e,b.routePrefix+"/tensor?run\x3d"+a+"\x26name\x3d"+c+"\x26num_rows\x3d100000",d)})};a.prototype.retrieveSpriteAndMetadata=function(a,c,d){var b=this;this.getEmbeddingInfo(a,c,function(e){var g=null;e.metadataPath&&(g=b.routePrefix+"/metadata?"+("run\x3d"+a+"\x26name\x3d"+c+"\x26num_rows\x3d100000"));var k=null;e.sprite&&e.sprite.imagePath&&(k=b.routePrefix+"/sprite_image?run\x3d"+a+"\x26name\x3d"+c);sd(g,k,e.sprite,d)})};a.prototype.getBookmarks=function(a,
c,d){var b=Y("Fetching bookmarks..."),g=new XMLHttpRequest;g.open("GET",this.routePrefix+"/bookmarks?run\x3d"+a+"\x26name\x3d"+c);g.onerror=function(){lc(g.responseText,"fetching bookmarks")};g.onload=function(){Y(null,b);var a=JSON.parse(g.responseText);d(a)};g.send()};return a}();