//~~WEBPATH~~/iron-overlay-behavior/iron-overlay-manager.html.js
Polymer.IronOverlayManagerClass=function(){this._overlays=[];this._minimumZ=101;this._backdropElement=null;Polymer.Gestures.add(document,"tap",this._onCaptureClick.bind(this));document.addEventListener("focus",this._onCaptureFocus.bind(this),!0);document.addEventListener("keydown",this._onCaptureKeyDown.bind(this),!0)};
Polymer.IronOverlayManagerClass.prototype={constructor:Polymer.IronOverlayManagerClass,get backdropElement(){this._backdropElement||(this._backdropElement=document.createElement("iron-overlay-backdrop"));return this._backdropElement},get deepActiveElement(){for(var a=document.activeElement||document.body;a.root&&Polymer.dom(a.root).activeElement;)a=Polymer.dom(a.root).activeElement;return a},addOrRemoveOverlay:function(a){a.opened?ra(this,a):ua(this,a)},ensureMinimumZ:function(a){this._minimumZ=Math.max(this._minimumZ,
a)},focusOverlay:function(){var a=va(this);a&&a._applyFocus()},getBackdrops:function(){for(var a=[],b=0;b<this._overlays.length;b++)this._overlays[b].withBackdrop&&a.push(this._overlays[b]);return a},backdropZ:function(){return wa(this,xa(this))-1},_onCaptureClick:function(a){var b=va(this),c;if(c=b){a:{c=(c=Polymer.dom(a).path)||[];for(var d=0;d<c.length;d++)if(c[d]._manager===this){c=c[d];break a}c=void 0}c=c!==b}c&&b._onCaptureClick(a)},_onCaptureFocus:function(a){var b=va(this);b&&b._onCaptureFocus(a)},
_onCaptureKeyDown:function(a){var b=va(this);b&&(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"esc")?b._onCaptureEsc(a):Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"tab")&&b._onCaptureTab(a))}};function wa(a,b){a=a._minimumZ;b&&(b=Number(b.style.zIndex||window.getComputedStyle(b).zIndex),b===b&&(a=b));return a}function xa(a){for(var b=0;b<a._overlays.length;b++)if(a._overlays[b].withBackdrop)return a._overlays[b]}
function ya(a){var b=xa(a);if(b||a._backdropElement)a.backdropElement.style.zIndex=wa(a,b)-1,a.backdropElement.opened=!!b}function va(a){return a._overlays[a._overlays.length-1]}function ua(a,b){b=a._overlays.indexOf(b);-1!==b&&(a._overlays.splice(b,1),ya(a))}
function ra(a,b){var c=a._overlays.indexOf(b);if(0<=c){if(b=c,c=a._overlays[b]){var d=a._overlays.length-1,e=a._overlays[d];e&&!c.alwaysOnTop&&e.alwaysOnTop&&d--;if(!(b>=d)){e=Math.max(wa(a,va(a)),a._minimumZ);wa(a,c)<=e&&(c.style.zIndex=e+2);for(;b<d;)a._overlays[b]=a._overlays[b+1],b++;a._overlays[d]=c}}}else{var c=a._overlays.length,d=a._overlays[c-1],e=Math.max(wa(a,d),a._minimumZ),g=wa(a,b);d&&!b.alwaysOnTop&&d.alwaysOnTop&&(d.style.zIndex=e+2,c--,e=Math.max(wa(a,a._overlays[c-1]),a._minimumZ));
g<=e&&(b.style.zIndex=e+2);a._overlays.splice(c,0,b)}ya(a)}Polymer.IronOverlayManager=new Polymer.IronOverlayManagerClass;