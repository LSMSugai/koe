//~~WEBPATH~~/iron-fit-behavior/iron-fit-behavior.html.js
Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){return this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width},
get _fitHeight(){return this.fitInto===window?this.fitInto.innerHeight:this.fitInto.getBoundingClientRect().height},get _fitLeft(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().left},get _fitTop(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().top},get _defaultPositionTarget(){var a=Polymer.dom(this).parentNode;a&&a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(a=a.host);return a},get _localeHorizontalAlign(){if(this._isRTL){if("right"===this.horizontalAlign)return"left";
if("left"===this.horizontalAlign)return"right"}return this.horizontalAlign},attached:function(){this._isRTL="rtl"==window.getComputedStyle(this).direction;this.positionTarget=this.positionTarget||this._defaultPositionTarget;this.autoFitOnAttach&&("none"===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):this.fit())},fit:function(){this.position();this.constrain();this.center()},_discoverInfo:function(){if(!this._fitInfo){var a=window.getComputedStyle(this),b=window.getComputedStyle(this.sizingTarget);
this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||"",position:this.style.position||""},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||"",maxHeight:this.sizingTarget.style.maxHeight||"",boxSizing:this.sizingTarget.style.boxSizing||""},positionedBy:{vertically:"auto"!==a.top?"top":"auto"!==a.bottom?"bottom":null,horizontally:"auto"!==a.left?"left":"auto"!==a.right?"right":null},sizedBy:{height:"none"!==b.maxHeight,width:"none"!==b.maxWidth,minWidth:parseInt(b.minWidth,
10)||0,minHeight:parseInt(b.minHeight,10)||0},margin:{top:parseInt(a.marginTop,10)||0,right:parseInt(a.marginRight,10)||0,bottom:parseInt(a.marginBottom,10)||0,left:parseInt(a.marginLeft,10)||0}};this.verticalOffset&&(this._fitInfo.margin.top=this._fitInfo.margin.bottom=this.verticalOffset,this._fitInfo.inlineStyle.marginTop=this.style.marginTop||"",this._fitInfo.inlineStyle.marginBottom=this.style.marginBottom||"",this.style.marginTop=this.style.marginBottom=this.verticalOffset+"px");this.horizontalOffset&&
(this._fitInfo.margin.left=this._fitInfo.margin.right=this.horizontalOffset,this._fitInfo.inlineStyle.marginLeft=this.style.marginLeft||"",this._fitInfo.inlineStyle.marginRight=this.style.marginRight||"",this.style.marginLeft=this.style.marginRight=this.horizontalOffset+"px")}},resetFit:function(){var a=this._fitInfo||{},b;for(b in a.sizerInlineStyle)this.sizingTarget.style[b]=a.sizerInlineStyle[b];for(b in a.inlineStyle)this.style[b]=a.inlineStyle[b];this._fitInfo=null},refit:function(){var a=this.sizingTarget.scrollLeft,
b=this.sizingTarget.scrollTop;this.resetFit();this.fit();this.sizingTarget.scrollLeft=a;this.sizingTarget.scrollTop=b},position:function(){if(this.horizontalAlign||this.verticalAlign){this._discoverInfo();this.style.position="fixed";this.sizingTarget.style.boxSizing="border-box";this.style.left="0px";this.style.top="0px";var a=this.getBoundingClientRect(),b=this.__getNormalizedRect(this.positionTarget),c=this.__getNormalizedRect(this.fitInto),d=this._fitInfo.margin,e=this.__getPosition(this._localeHorizontalAlign,
this.verticalAlign,{width:a.width+d.left+d.right,height:a.height+d.top+d.bottom},b,c),b=e.left+d.left,e=e.top+d.top,g=Math.min(c.right-d.right,b+a.width),c=Math.min(c.bottom-d.bottom,e+a.height),h=this._fitInfo.sizedBy.minWidth,k=this._fitInfo.sizedBy.minHeight;b<d.left&&(b=d.left,g-b<h&&(b=g-h));e<d.top&&(e=d.top,c-e<k&&(e=c-k));this.sizingTarget.style.maxWidth=g-b+"px";this.sizingTarget.style.maxHeight=c-e+"px";this.style.left=b-a.left+"px";this.style.top=e-a.top+"px"}},constrain:function(){if(!this.horizontalAlign&&
!this.verticalAlign){this._discoverInfo();var a=this._fitInfo;a.positionedBy.vertically||(this.style.position="fixed",this.style.top="0px");a.positionedBy.horizontally||(this.style.position="fixed",this.style.left="0px");this.sizingTarget.style.boxSizing="border-box";var b=this.getBoundingClientRect();a.sizedBy.height||this.__sizeDimension(b,a.positionedBy.vertically,"top","bottom","Height");a.sizedBy.width||this.__sizeDimension(b,a.positionedBy.horizontally,"left","right","Width")}},_sizeDimension:function(a,
b,c,d,e){this.__sizeDimension(a,b,c,d,e)},__sizeDimension:function(a,b,c,d,e){var g=this._fitInfo,h=this.__getNormalizedRect(this.fitInto),h="Width"===e?h.width:h.height;b=b===d;var k="offset"+e;this.sizingTarget.style["max"+e]=h-g.margin[b?c:d]-(b?h-a[d]:a[c])-(this[k]-this.sizingTarget[k])+"px"},center:function(){if(!this.horizontalAlign&&!this.verticalAlign){this._discoverInfo();var a=this._fitInfo.positionedBy;if(!a.vertically||!a.horizontally){this.style.position="fixed";a.vertically||(this.style.top=
"0px");a.horizontally||(this.style.left="0px");var b=this.getBoundingClientRect(),c=this.__getNormalizedRect(this.fitInto);a.vertically||(this.style.top=c.top-b.top+(c.height-b.height)/2+"px");a.horizontally||(this.style.left=c.left-b.left+(c.width-b.width)/2+"px")}}},__getNormalizedRect:function(a){return a===document.documentElement||a===window?{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:a.getBoundingClientRect()},__getCroppedArea:function(a,
b,c){return Math.abs(Math.min(0,a.top)+Math.min(0,c.bottom-(a.top+b.height)))*b.width+Math.abs(Math.min(0,a.left)+Math.min(0,c.right-(a.left+b.width)))*b.height},__getPosition:function(a,b,c,d,e){var g=[{verticalAlign:"top",horizontalAlign:"left",top:d.top,left:d.left},{verticalAlign:"top",horizontalAlign:"right",top:d.top,left:d.right-c.width},{verticalAlign:"bottom",horizontalAlign:"left",top:d.bottom-c.height,left:d.left},{verticalAlign:"bottom",horizontalAlign:"right",top:d.bottom-c.height,left:d.right-
c.width}];if(this.noOverlap){for(var h=0,k=g.length;h<k;h++){var l={},m;for(m in g[h])l[m]=g[h][m];g.push(l)}g[0].top=g[1].top+=d.height;g[2].top=g[3].top-=d.height;g[4].left=g[6].left+=d.width;g[5].left=g[7].left-=d.width}b="auto"===b?null:b;a="auto"===a?null:a;for(var p,h=0;h<g.length;h++){d=g[h];if(!this.dynamicAlign&&!this.noOverlap&&d.verticalAlign===b&&d.horizontalAlign===a){p=d;break}k=(!b||d.verticalAlign===b)&&(!a||d.horizontalAlign===a);if(this.dynamicAlign||k){p=p||d;d.croppedArea=this.__getCroppedArea(d,
c,e);l=d.croppedArea-p.croppedArea;if(0>l||0===l&&k)p=d;if(0===p.croppedArea&&k)break}}return p}};