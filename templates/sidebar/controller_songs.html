{% load custom_tags %}

<div class="sidebar-controllers">
    {% include "sidebar/database-picker.html" %}
    {% include "sidebar/viewas-picker.html" %}
    {% include "sidebar/granularity-picker.html" %}
    {% include "sidebar/speed-slider.html" %}
</div>

<div class="sidebar-controllers last">
    <form id="file-upload-form" method="post" enctype="multipart/form-data" style="display: none">
        <input type="file" multiple name="files" accept="audio/wav">
        <input class="database-value" name="database" type="text" value="{{ current_database.id }}">
        <input name="cls" type="text" value="{{ granularity }}">
        <input type="submit">
    </form>
    <form id="csv-upload-form" method="post" enctype="multipart/form-data" style="display: none">
        <input type="file" name="file" accept="text/csv">
        <input class="database-value" name="database" type="text" value="{{ current_database.id }}">
        <input type="submit">
    </form>

    {% if db_assignment.can_annotate %}
        <button type="button" disabled id="upload-csv-btn" class="btn btn-xs btn-default btn-block">Upload metadata (csv)</button>
    {% endif %}

    {% if db_assignment.can_copy_files %}
        <button type="button" disabled id="copy-songs-btn" class="btn btn-xs btn-default btn-block">Copy to another database</button>
    {% endif %}

    {% if db_assignment.can_delete_files %}
        <button type="button" disabled id="delete-songs-btn" class="btn btn-xs btn-default btn-block">Delete selected songs</button>
    {% endif %}

    {% include "sidebar/download-csv-btns.html" %}

</div>
